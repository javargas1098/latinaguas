<div class="relative flex flex-col items-center justify-center w-full min-h-screen bg-gray-50 px-4 py-12 sm:py-16 overflow-hidden" style="background-image: url('assets/productBack.jpg'); background-size: cover; background-position: center;">

  <div class="absolute top-0 left-0 w-full h-full bg-black/40 z-0"></div>

  <div class="relative z-10 w-full max-w-3xl text-center mb-10 px-2">
    <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white">{{ 'PRODUCTS_TITLE' | translate }}</h1>
  </div>

  <div class="relative z-10 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 w-full max-w-7xl">
    <div
      class="bg-white rounded-xl shadow-md overflow-hidden flex flex-col"
      *ngFor="let producto of productos"
    >
      <div class="flex justify-center items-center bg-white p-4">
        <img
          [src]="producto.imagen || 'assets/default-product.jpg'"
          alt="Producto"
          class="w-full max-h-[160px] sm:max-h-[180px] object-contain rounded"
        />
      </div>
      <div class="p-4 flex flex-col flex-grow">
        <h2 class="text-base sm:text-lg font-semibold text-gray-800">{{ producto.nombreKey | translate }}</h2>
        <p class="text-xs sm:text-sm text-gray-500">{{ producto.categoriaKey | translate }}</p>
        <div class="mt-auto flex justify-end">
          <button
            class="bg-gray-100 hover:bg-gray-200 text-black font-bold py-1 px-3 rounded-full mt-4"
            (click)="abrirDialogo(producto)"
          >
            +
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- DIALOGO -->
  <div
    class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 px-4"
    *ngIf="dialogoAbierto"
    (click)="cerrarDialogo()"
  >
    <div
      class="bg-white p-4 sm:p-6 rounded-xl max-w-xl w-full shadow-xl relative"
      (click)="$event.stopPropagation()"
    >
      <div class="mb-4 flex justify-center">
        <img
          [src]="productoSeleccionado?.imagen || 'assets/default-product.jpg'"
          alt="Imagen producto"
          class="w-full max-h-[250px] sm:max-h-[300px] object-contain rounded-xl"
        />
      </div>
      <h2 class="text-lg sm:text-xl font-bold mb-2">{{ productoSeleccionado?.nombreKey | translate }}</h2>
      <p class="text-sm text-gray-600 whitespace-pre-line">
        {{ productoSeleccionado?.descripcionKey | translate }}
      </p>
      <div class="mt-6 flex justify-end gap-2">
        <button class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300" (click)="cerrarDialogo()">
          Atr√°s
        </button>
      </div>
    </div>
  </div>

</div>
